<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <script>
        function updateAction(event, actionType) {
            event.preventDefault(); // Prevent the default form submission
            const cityNames = document.getElementById('city').value; // Get city names input
            const form = event.target.closest('form'); // Get the closest form

            // Set the action URL based on the button clicked
            if (actionType === 'avg') {
                form.action = "{% url 'get_weather_data' city_names='placeholder' %}".replace('placeholder', cityNames);
            } else if (actionType === 'current') {
                form.action = "{% url 'get_current_weather' city_names='placeholder' %}".replace('placeholder', cityNames);
            }

            // Submit the form
            form.submit();
        }
    </script>
</head>
<body>
    <h1>Enter City Name(s) for Weather Report</h1>
    <form method="GET">
        <label for="city">City Name(s) (comma-separated for multiple cities):</label>
        <input type="text" id="city" name="city_name" required>

        <button type="submit" onclick="updateAction(event, 'avg')">Get 24-Hour Average Weather</button>
        <button type="submit" onclick="updateAction(event, 'current')">Get Current Weather</button>
    </form>
</body>
</html>
